<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Profile</ion-title>
  </ion-navbar>
</ion-header>
<ion-content padding>
  <form #formCtrl="ngForm" *ngIf="details" (submit)="updateprofile()">
    <ion-grid>
      <ion-row align-items-start>
        <ion-col col-4>
          <div text-left class="edit-avter">
            <img *ngIf="details.view_image" [src]="details.view_image" onerror="this.src='assets/img/default-user-avatars.png'" />
            <span lang="edit-pen">
              <input type="file" accept="image/x-png,image/jpeg" (change)="fileUpload($event)" id="file-input" name="new_image" style="opacity: 0" #fileInp>
              <ion-icon name="create" for="file-input"></ion-icon>
            </span>
          </div>
        </ion-col>

        <ion-col col-8>
          <ion-list>
            <ion-item>
              <ion-label stacked class="profile-label">Name</ion-label>
              <ion-input type="text" name="name" required placeholder="Enter Your Name" [(ngModel)]="details.name"></ion-input>
            </ion-item>

            <ion-item>
              <ion-label color="pink">Blood Group</ion-label>
              <ion-select name="blood_group" [(ngModel)]="details.blood_group">
                <ion-option value="O+">O +</ion-option>
                <ion-option value="O-">O -</ion-option>
                <ion-option value="A+">A +</ion-option>
                <ion-option value="A-">A -</ion-option>
                <ion-option value="B+">B +</ion-option>
                <ion-option value="B-">B -</ion-option>
                <ion-option value="AB+">AB +</ion-option>
                <ion-option value="AB-">AB -</ion-option>
              </ion-select>
            </ion-item>
          </ion-list>
        </ion-col>
      </ion-row>
      <ion-list>
        <ion-item>
          <ion-label color="pink">Gender</ion-label>
          <ion-select name="gender" required [(ngModel)]="details.gender">
            <ion-option value="Male">Male</ion-option>
            <ion-option value="Female">Female</ion-option>
          </ion-select>
        </ion-item>
        <ion-item>
          <ion-label color="pink">Birth Date</ion-label>
          <ion-datetime required name="birthdate" displayFormat="DD MMM YYYY" pickerFormat="DD MMM YYYY" [(ngModel)]="details.birthdate"></ion-datetime>
        </ion-item>

        <ion-item>
          <ion-label stacked class="profile-label">Address</ion-label>
          <ion-input type="text" name="address" placeholder="Enter Your Address" [(ngModel)]="details.address"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label stacked class="profile-label">Email Id</ion-label>
          <ion-input type="Email" name="email" required placeholder="Enter Your Email" [(ngModel)]="details.email"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label stacked class="profile-label">Business</ion-label>
          <ion-input type="text" name="business" placeholder="Enter Your Business" [(ngModel)]="details.business"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label stacked class="profile-label">Education</ion-label>
          <ion-input type="text" name="education" placeholder="Enter Your Education" [(ngModel)]="details.education"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label color="pink">District</ion-label>
          <ion-select name="district" [(ngModel)]="details.district" (ionChange)="gettaluka($event)">
            <ion-option *ngFor="let dt of district" [value]="dt.dist_name">{{dt.dist_name}}</ion-option>
          </ion-select>
        </ion-item>
        <ion-item>
          <ion-label color="pink">Taluka</ion-label>
          <ion-select name="taluka" [(ngModel)]="details.taluka" (ionChange)="getvillage($event)">
            <ion-option *ngFor="let tl of taluka" [value]="tl.taluka_name">{{tl.taluka_name}}</ion-option>
          </ion-select>
        </ion-item>
        <ion-item>
          <ion-label color="pink">Village</ion-label>
          <ion-select name="village" [(ngModel)]="details.village">
            <ion-option *ngFor="let vl of village" [value]="vl.village_name">{{vl.village_name}}</ion-option>
          </ion-select>
        </ion-item>

      </ion-list>
      <div text-center>
        <button ion-button class="btn btn-primary" color="pink" [disabled]="formCtrl.invalid">Save</button>
      </div>
    </ion-grid>
  </form>
</ion-content>